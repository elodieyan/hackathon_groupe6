# Pour installer R 3.6.3 : via le shell
# trouve sur ce site : https://unix.stackexchange.com/questions/538915/installing-updating-r-3-6-on-ubuntu-18-04
echo deb https://cloud.r-project.org/bin/linux/ubuntu bionic-cran35/ | sudo tee /etc/apt/sources.list
sudo apt update
sudo apt install r-base

# Vérifier que la version R est bien la bonne
R --version

# Ouvrir R
R

# Installer le package BiocManager (https://www.bioconductor.org/install/)
if (!requireNamespace('BiocManager', quietly = TRUE))
install.packages('BiocManager')
# Répondre yes si on demande de créer une library
yes

BiocManager::install('EnhancedVolcano')
BiocManager::install('DESeq2')

install.packages("FactoMineR")
install.packages("factoextra")

#Lancer le script
source("test_analyse_stats2.R")

# Quitter R
q()

# Si ça n'a pas fonctionner, tenter de lancer le snakefile. Dans le snakefile, on utilise le script test_analyse_stats.R
snakemake --use-singularity --cores 1 -s test_R
